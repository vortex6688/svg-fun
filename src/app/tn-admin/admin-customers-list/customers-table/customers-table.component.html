<div class="row text-info pb-2">
  <div class="d-flex col justify-content-start align-items-end">
    <h4 style="margin-bottom: 0;">Customers</h4>
    <span class="px-2 small text-uppercase">{{pageItems[0]+1}}-{{pageItems[1]}} of {{customers.length}} results</span>
  </div>
  <div class="d-flex col justify-content-end align-items-end text-right">
    <div class="text-uppercase small px-3">
      <span style="cursor: pointer;" class="px-1" (click)="expandAll()">Expand all</span>
      <span> | </span>
      <span style="cursor: pointer;" class="px-1" (click)="collapseAll()">Collapse all</span>
    </div>
    <div>
      <tn-pagination [collectionSize]="customers.length" [pageSize]="pageSize" (pageItemsChanges)="updatePageItems($event)" [ellipses]="false" size="sm" directionLinksPrevious="&lt;" directionLinksNext="&gt;"></tn-pagination>
    </div>
  </div>
</div>
<table class="table table-sortable">
  <thead>
    <tr class="row">
      <th class="col sortable" (click)="sortBy('name')" [ngClass]="{'sort-asc': sortKey === '+name', 'sort-desc': sortKey === '-name'}">Name</th>
      <th class="col sortable" (click)="sortBy('email')" [ngClass]="{'sort-asc': sortKey === '+foundry', 'sort-desc': sortKey === '-foundry'}">Email</th>
      <th class="col sortable" (click)="sortBy('company')" [ngClass]="{'sort-asc': sortKey === '+family', 'sort-desc': sortKey === '-family'}">Company</th>
      <th class="col sortable" (click)="sortBy('city')" [ngClass]="{'sort-asc': sortKey === '+styles', 'sort-desc': sortKey === '-styles'}">City</th>
      <th class="col sortable" (click)="sortBy('country')" [ngClass]="{'sort-asc': sortKey === '+released', 'sort-desc': sortKey === '-released'}">Country</th>
      <th class="col sortable" (click)="sortBy('totalAmountSpent')" [ngClass]="{'sort-asc': sortKey === '+released', 'sort-desc': sortKey === '-released'}">Total Amount Spent</th>
    </tr>
  </thead>
  <tbody>
    <customers-row *ngFor='let customer of customers | orderBy: [sortKey] | slice:pageItems[0]:pageItems[1]' [customer]=customer [collapseSubject]="collapseState$"></customers-row>
  </tbody>
</table>